import multiprocessing as mpimport subprocessimport shleximport argparseimport os# function to execute command in shelldef run_command(command):    process = subprocess.Popen(shlex.split(command), stdout=subprocess.PIPE)    while True:        output = process.stdout.readline()        if process.poll() is not None:            break        if output:            print(output.strip())    rc = process.poll()    return rc# functions to handle scheduledef start_webcam_post(f_station,f_webcam,f_webcam_dir):            # command for webcam_process    command_line = 'python3 webcam_post_process.py --station={} --webcam={} --webcam_dir={}'.format(f_station,f_webcam,f_webcam_dir)                # execute in command line    run_command(command_line)    """----------------------------- options -----------------------------"""parser = argparse.ArgumentParser(description='Multi Webcam Post Processing')parser.add_argument('--station', type=int,                    help='id for station')parser.add_argument('--webcams', type=str,                    help='list of ids for webcam')parser.add_argument('--output_dir', type=str, default='../outputs/',                    help='location of output drive')args = parser.parse_args()if __name__ == "__main__":        # create necessary variables    station_id = args.station    webcam_ids = eval(args.webcams)    code_dir = os.getcwd() +'/'        os.chdir(args.output_dir)    output_dir = os.getcwd() +'/'    os.chdir(code_dir)            station_dir = output_dir + 'station_{}/'.format(station_id)        webcam_dirs = {}    for webcam_id in webcam_ids:        webcam_dir = station_dir + 'webcam_{}/'.format(webcam_id)        webcam_dirs[webcam_id] = webcam_dir            # multiprocessing    for webcam_id, webcam_dir in webcam_dirs.items():        mp.Process(target=start_webcam_post, args=(station_id,webcam_id,webcam_dir)).start()            